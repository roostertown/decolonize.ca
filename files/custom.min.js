function lockDeviceScale(e){var a=jQuery('head meta[name="viewport"]');e?a.attr("content","width=device-width, initial-scale=1"):a.attr("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no")}function partiallyStickyElement(e,a,i,t){var n=20,s=20+jQuery("#main-wrapper").offset().top,r=jQuery(window).height(),o=new ScrollMagic.Controller,l=null;void 0===t&&(t=992),"object"==typeof stickyHeader&&(s+=stickyHeader.getStickyHeight());var u=parseInt(a.css("marginTop"),10);if(jQuery(window).width()<=t||e.outerHeight()>=a.outerHeight())return o;if(i&&e.outerHeight()>r){var c=r-s-(e.outerHeight()-i.outerHeight())-30;if(c<30)return;i.height(c).perfectScrollbar({wheelPropagation:!0,suppressScrollX:!0})}return l=new ScrollMagic.Scene({offset:e.offset().top-s,duration:a.outerHeight()-e.outerHeight()+u}),l.setPin(e.get(0)).addTo(o),enquire.register("screen and (max-width: "+t+"px)",{match:function(){l.destroy(!0),o.destroy(!0),e.add(a).removeAttr("style"),i&&i.perfectScrollbar("destroy").removeAttr("style")},unmatch:jQuery.debounce(300,!1,function(){partiallyStickyElement(e,a,i,t)})}),o}var publicVars=publicVars||{};!function($,e,a){"use strict";$(document).ready(function(){function a(){publicVars.fullScreenMenuOptions={toBeAnimatedClass:"to-be-animated",expandAnimation:"animate-fade-slide"},publicVars.$fullScreenMenu.length&&(publicVars.$fullScreenMenu.find("li:has(> ul)").each(function(e,a){var n=$(a),s=n.find("> a"),r=n.find("> ul");n.hoverIntent({over:function(e){i(r)},out:function(){t(r)},interval:100,timeout:250})}),publicVars.$fullScreenMenu.on("click",function(e){var a=$(e.target);(publicVars.$fullScreenMenu[0]==a[0]||a.hasClass("container"))&&s()}),publicVars.$fullScreenMenuBar=$(".menu-type-full-bg-menu .menu-bar"),publicVars.$fullScreenMenuBar.on("click",function(e){if(e.preventDefault(),u())return void d();publicVars.$fullScreenMenuBar.hasClass("exit")?s():n()}),publicVars.$fullScreenMenu.find("form.search-form").each(function(e,a){var i=$(a),t=i.find(".search-field"),n=i.find("label");t.val().length&&i.addClass("search-filled"),t.on("keyup blur",function(){t.val().length>0?i.addClass("search-filled"):i.removeClass("search-filled")}),i.on("submit",function(e){""==jQuery.trim(t.val())&&e.preventDefault()})}))}function i(e){var a=.25,i=e.parent();e.show(),i.addClass(publicVars.fullScreenMenuOptions.toBeAnimatedClass+" "+publicVars.fullScreenMenuOptions.expandAnimation+"-in");var t=e.outerHeight();e.height(0),TweenMax.to(e,.25,{css:{height:t},onComplete:function(){e.attr("style","")}}),setTimeout(function(){i.addClass(publicVars.fullScreenMenuOptions.expandAnimation+"-out")},10)}function t(e){var a=.25,i=e.parent();i.removeClass(publicVars.fullScreenMenuOptions.expandAnimation+"-out"),TweenMax.to(e,.25,{css:{height:0},onComplete:function(){i.removeClass(publicVars.fullScreenMenuOptions.toBeAnimatedClass+" "+publicVars.fullScreenMenuOptions.expandAnimation+"-in"),e.attr("style","")}})}function n(){publicVars.$fullScreenMenu.data("is-busy")||(publicVars.$fullScreenMenu.data("is-busy",!0).css("min-height",$(e).height()).fadeIn(),publicVars.$fullScreenMenuBar.addClass("exit"),publicVars.$fullScreenMenuBar.removeClass(publicVars.$fullScreenMenuBar.data("menu-skin-default")),publicVars.$fullScreenMenuBar.addClass(publicVars.$fullScreenMenuBar.data("menu-skin-active")),setTimeout(function(){publicVars.$fullScreenMenu.data("is-busy",!1).addClass("menu-is-open"),publicVars.$body.addClass("fullscreen-menu-is-open")},200))}function s(){publicVars.$fullScreenMenu.data("is-busy")||(publicVars.$fullScreenMenu.data("is-busy",!0).removeClass("menu-is-open"),publicVars.$fullScreenMenuBar.removeClass("exit"),publicVars.$body.removeClass("fullscreen-menu-is-open"),setTimeout(function(){publicVars.$fullScreenMenuBar.removeClass(publicVars.$fullScreenMenuBar.data("menu-skin-active")),publicVars.$fullScreenMenuBar.addClass(publicVars.$fullScreenMenuBar.data("menu-skin-default")),publicVars.$fullScreenMenuBar.removeClass("is-fixed").removeAttr("style"),publicVars.$fullScreenMenu.data("is-busy",!1).fadeOut()},400))}function r(e){var a=e.children("a"),i=e.children("ul");e.addClass("sub-visible");var t=i.innerHeight();e.removeClass("sub-visible"),a.hoverIntent({over:function(){TweenMax.to(i,.4,{css:{height:t},ease:Power2.easeInOut,onComplete:function(){e.addClass("sub-visible"),i.removeAttr("style")}})},out:function(){}}),e.hoverIntent({over:function(){},out:function(){TweenMax.to(i,.2,{css:{height:0},ease:Sine.easeInOut,onComplete:function(){e.removeClass("sub-visible"),i.removeAttr("style")}})},interval:100,timeout:250})}function o(){requestAnimationFrame(function(){publicVars.$body.removeClass("sidebar-is-opened"),publicVars.$sidebarMenu.hasClass("sidebar-alignment-left")&&publicVars.$body.removeClass("sidebar-is-opened-left"),publicVars.$sidebarMenu.css("transform","translate3d(0px,0px,0px)")},publicVars.$wrapper),$(e).off("keydown",l)}function l(e){27==e.keyCode&&o()}function u(){var a=768;return"number"==typeof mobile_menu_breakpoint&&(a=mobile_menu_breakpoint),$(e).width()<=a}publicVars.hash=e.location.hash.toString(),publicVars.$body=$("body"),publicVars.$wrapper=$("#main-wrapper"),publicVars.$header=$("header.main-header"),publicVars.$showMore=$(".show-more[data-action]"),publicVars.$mainHeader=$("header.main-header"),publicVars.$mainFooter=$("footer.site-footer"),publicVars.$products=$(".products"),publicVars.$fullScreenMenu=publicVars.$body.find(".menu-type-full-bg-menu .full-screen-menu"),publicVars.$standardMenu=publicVars.$body.find(".menu-type-standard-menu .standard-menu-container"),publicVars.$topMenu=publicVars.$body.find(".top-menu-container"),publicVars.$sidebarMenu=publicVars.$body.find(".sidebar-menu-wrapper"),publicVars.$sidebarMenuBar=publicVars.$body.find(".menu-type-sidebar-menu .menu-bar"),publicVars.$mobileMenu=publicVars.$body.find(".mobile-menu-wrapper"),publicVars.topBorderHeight=$(".top-border").length?$(".top-border").outerHeight():0,publicVars.adminBarHeight=$(".admin-bar #wpadminbar").length?$(".admin-bar #wpadminbar").outerHeight():0,publicVars.hash.length&&(publicVars.hash=publicVars.hash.substring(1,publicVars.hash.length)),$(".page_item_has_children").addClass("menu-item-has-children"),publicVars.$fullScreenMenu.hasClass("submenu-indicator")&&publicVars.$fullScreenMenu.find(".menu-item-has-children > a").each(function(e,a){$(a).append(' <i class="fa fa-angle-down"></i>')}),a(),publicVars.$standardMenu.find("li:has(> ul)").add(publicVars.$topMenu.find("li:has(> ul)")).each(function(a,i){var t=$(i),n=t.find("> ul"),s=function(){n.removeClass("open-from-left"),$(e).width()<n.offset().left+n.outerWidth()&&n.addClass("open-from-left")};s(),t.hoverIntent({over:function(){s(),t.addClass("sub-visible")},out:function(){t.removeClass("sub-visible")},timeout:200,interval:50})}),is.touchDevice()&&setupTouchHoverForSubmenus(publicVars.$standardMenu,"li:has(> ul) > a","sub-visible"),publicVars.$standardMenu.find(".menu-bar").on("click",function(e){if(e.preventDefault(),u())return void d();var a=$(this);publicVars.$standardMenu.hasClass("items-visible")?(a.removeClass("exit"),publicVars.$standardMenu.removeClass("items-visible")):(a.addClass("exit"),publicVars.$standardMenu.addClass("items-visible"))}),publicVars.$topMenu.find(".menu > li > ul.sub-menu").each(function(e,a){var i=$(a),t=i.prev(),n=i.outerHeight();i.css({left:t.outerWidth(),marginTop:-n/2+18})}),$(".menu-type-top-menu .menu-bar").on("click",function(e){if(e.preventDefault(),u())return void d();var a=$(this);topMenuToggle(a)}),e.topMenuToggle=function(a){var i=.6,t=publicVars.$topMenu.actual("outerHeight");if(!publicVars.$topMenu.data("is-busy")){if($(e).scrollTop()>.5*publicVars.$topMenu.height()&&!publicVars.$topMenu.hasClass("is-visible")){var n={y:$(e).scrollTop()};return void TweenMax.to(n,.5,{y:0,roundProps:["y"],ease:Quad.easeInOut,onUpdate:function(){$(e).scrollTop(n.y)},onComplete:function(){topMenuToggle(a)}})}publicVars.$topMenu.hasClass("is-visible")&&(t=0),publicVars.$topMenu.hasClass("is-visible")||(publicVars.$mainHeader.addClass("no-transitions"),publicVars.$mainHeader.css("top","0px"),setTimeout(function(){publicVars.$mainHeader.removeClass("no-transitions")},1)),publicVars.$topMenu.data("is-busy",!0).addClass("is-visible"),a.toggleClass("exit-arrow"),$(".portfolio-full-bg-slider").length&&(t?(publicVars.$topMenu.css({zIndex:500,top:-t}),TweenMax.to(publicVars.$topMenu,.6,{css:{top:0}})):TweenMax.to(publicVars.$topMenu,.6,{css:{top:-publicVars.$topMenu.actual("outerHeight")}})),TweenMax.to(publicVars.$wrapper,.6,{css:{marginTop:t},ease:Power3.easeInOut,onComplete:function(){publicVars.$topMenu.data("is-busy",!1),0==t&&publicVars.$topMenu.removeClass("is-visible")}})}};var c=publicVars.$body.find(".sidebar-menu-disabler");publicVars.$sidebarMenu.find(".sidebar-main-menu ul").first().find("> li:has(> ul)").each(function(e,a){var i=$(a);r(i,!0),i.find("li:has(> ul)").each(function(e,a){r($(a))})}),publicVars.$sidebarMenu.on("click",".sidebar-menu-close",function(e){e.preventDefault(),o()}),publicVars.$sidebarMenuBar.on("click",function(e){if(e.preventDefault(),u()&&"undefined"==typeof sidebarMenuMobileDisabled)return void d();sidebarMenuOpen()}),c.on("click",o),publicVars.$sidebarMenu.find(".sidebar-menu-container").perfectScrollbar({wheelPropagation:!0,scrollYMarginOffset:20,suppressScrollX:!0}),e.sidebarMenuOpen=function(){requestAnimationFrame(function(){publicVars.$body.addClass("sidebar-is-opened");var e=1;publicVars.$sidebarMenu.hasClass("sidebar-alignment-left")&&(publicVars.$body.addClass("sidebar-is-opened-left"),e=-1),publicVars.$sidebarMenu.css("transform","translate3d( "+-publicVars.$sidebarMenu.outerWidth()*e+"px,0px,0px)")},publicVars.$wrapper),$(e).on("keydown",l)};var d=function(){u()&&(publicVars.$body.addClass("mobile-menu-open"),$(".main-header .menu-bar").addClass("exit"))},p=function(){publicVars.$body.removeClass("mobile-menu-open"),$(".main-header .menu-bar").removeClass("exit")};publicVars.$mobileMenu.find('.mobile-menu-container a[href*="#"]').each(function(e,a){$(a).on("click",function(e){var i=a.getAttribute("href").match(/#(.*)$/);if(i&&i.length>0){$(i[0]).length&&p()}})}),publicVars.$mobileMenu.find(".mobile-menu-container li:has(> ul)").each(function(e,a){var i=$(a),t=i.find("> a"),n=i.find("> ul");i.hoverIntent({over:function(){n.addClass("is-visible");var e=n.height();TweenMax.set(n,{css:{height:0}}),TweenMax.to(n,.25,{css:{height:e},ease:Sine.easeInOut,onComplete:function(){n.removeAttr("style")}})},out:function(){TweenMax.to(n,.25,{css:{height:0},ease:Sine.easeInOut,onComplete:function(){n.removeAttr("style").removeClass("is-visible")}})},timeout:300,interval:50}),t.on("click",function(e){if(!i.hasClass("sub-visible"))return e.preventDefault(),i.addClass("sub-visible"),!1})}),publicVars.$mobileMenu.on("click",function(e){(e.target==publicVars.$mobileMenu[0]||$(e.target).is(".mobile-menu-container"))&&(e.preventDefault(),p())}),publicVars.$body.on("click",".mobile-menu-overlay, .mobile-menu-close-link",function(e){e.preventDefault(),p()}),publicVars.$mobileMenu.find(".mobile-menu-container").perfectScrollbar({wheelPropagation:!0}),$(".full-width-container").each(function(a,i){var t=$(i),n=t.hasClass("stick-to-top"),s=function(){t.css({marginLeft:"",marginRight:""}),n&&t.css({marginTop:""});var a=$(e).width()/2-t.outerWidth(!0)/2;if(a-=$("#main-wrapper").offset().left,t.css({marginLeft:-a,marginRight:-a}),n){var i=t.offset().top;t.css({marginTop:-i})}};s(),$(e).on("resize",s)});var f=function(a,i,t){var n="stretched-image--done";if(a.css({marginLeft:"",marginRight:"",marginTop:""}),992>$(e).width())return void a.addClass(n);var s=a.offset(),r=s.top-publicVars.topBorderHeight-publicVars.adminBarHeight,o=s.left-publicVars.topBorderHeight,l=$(e).width()-(o+a.outerWidth()+publicVars.topBorderHeight);switch(a.addClass(n),i){case"left":a.css({marginTop:-r,marginLeft:-o});break;case"right":a.css({marginTop:-r,marginRight:-l});break}t||$(e).resize($.debounce(100,function(){f(a,i,!0)}))};$(".left-edge-sticked").each(function(e,a){f($(a),"left")}),$(".right-edge-sticked").each(function(e,a){f($(a),"right")}),$(".video-js-el").each(function(e,a){setupVideoElement(a)}),$.debounce(200,function(){$(".video-js").each(function(e,a){a.player&&a.player.ready(function(){this.on("play",function(a){$(".video-js").each(function(a){e!==a&&this.player.pause()})})})})})(),setTimeout(setupVideoAndAudioPosters,100);var b=function(){var e,a=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==a.style[e])return i[e]};if(e.showMoreReleased=function(e,a){var i=e.data("current"),t=is.number(a)&&-1==a;if(e.removeClass("is-loading").data("is-busy",!1).data("current",i+1),e.data("current")>e.data("max")||t)showMoreFinished(e),t&&e.addClass("hidden");else{var n=scrollMonitor.create(e[0]);n.isFullyInViewport&&(e.data("loadNextPage")(),n.destroy())}},e.showMoreFinished=function(a){a.addClass("is-finished");var i=0;a.on(b(),function(){e.clearTimeout(0),TweenMax.to(a.parent(),.35,{css:{height:0,marginTop:0},delay:1.8})})},publicVars.$showMore.each(function(a,i){var t=$(i),n=scrollMonitor.create(i),s=t.data("cb"),r=t.data("pp"),o=t.data("action"),l=t.data("opts");""==s&&(s="laborator_load_paged_content"),t.find("a").on("click",function(e){e.preventDefault(),t.data("loadNextPage")()}),t.data("loadNextPage",function(){var a=t.data("current"),i=t.data("max");if(t.data("is-busy")||a>i)return!1;t.data("is-busy",!0).addClass("is-loading");var n={action:o,opts:l,page:a,maxPages:i,pp:r};return jQuery(document).trigger("kalium_endless_show_more",[n,t]),n=jQuery.extend($.getQueryParameters(),n),$.post(ajaxurl,n,function(i){e[s](t,i,a,n.maxPages,n.pp,n.action,n.opts)},"json"),!0}),t.hasClass("auto-reveal")&&n.fullyEnterViewport(function(e){0==$(".masonry-still-loading").length&&t.data("loadNextPage")()})}),$.isFunction($.fn.nivoLightbox)){var h=$("[data-lightbox-gallery]").each(function(e,a){var i=$(a),t=$('[data-lightbox-gallery="'+i.data("lightbox-gallery")+'"]');t.length<=1&&t.removeAttr("data-lightbox-gallery")});$(".nivo a, a.nivo").each(function(e,a){var i=$(a);if(publicVars.$body.hasClass("lightbox-disabled"))return i.on("click",function(e){return e.preventDefault(),!1}),!1;i.nivoLightbox({effect:"fade",theme:"default"})})}var m=$(".change-search-keyword");if(1==m.length){var v=$('<div class="change-search-keyword-wrapper"></div>'),g=$('<input type="text" />'),y=m.text(),C=m.outerWidth(),V=m.data("search-url").replace(encodeURIComponent("%s"),"%s");m.wrap(v),v=m.parent(),g.attr("title",m.attr("title")),v.append(g.val(y).css({fontSize:m.css("fontSize"),fontWeight:m.css("fontWeight"),lineHeight:m.css("lineHeight"),color:m.css("color")}));var w=!1,M=[91];g.on("keydown",function(e){-1!=$.inArray(e.which,M)&&(w=!0)}),g.on("keyup",function(e){-1==$.inArray(e.which,M)&&(w=!1)}),g.on("focus",function(){v.addClass("focused")}).on("blur",function(){v.removeClass("focused")}).on("keypress",function(e){x(this.value+String.fromCharCode(e.which))}).on("keydown",$.debounce(1,function(a){x(g.val()),13==a.which&&(e.location.href=V.replace("%s",encodeURIComponent(g.val())))}));var x=function(e,a){m.html(e.replace(/\s/g,"&nbsp;").replace(/\</g,"&lt;").replace(/"/g,"&quot;"))}}publicVars.$body.on("click",".like-btn[data-id]",function(e){e.preventDefault();var a=$(this),i=a.find("i"),t=a.find("span");a.hasClass("is-loading")||(a.addClass("is-loading"),$.getJSON(ajaxurl,{action:"laborator_update_likes",post_id:a.data("id")},function(e){if(a.removeClass("is-loading is-liked"),e.liked){a.addClass("is-liked"),a.hasClass("like-icon-thumb")?i.removeClass("fa-thumbs-o-up").addClass("fa-thumbs-up"):a.hasClass("like-icon-star")?i.removeClass("fa-star-o").addClass("fa-star"):i.removeClass("fa-heart-o").addClass("fa-heart");var n=new TimelineLite({delay:.05}),s=new TimelineLite({delay:.05});n.append(TweenMax.to(i,.2,{css:{scale:1.25},onComplete:function(){t.html(e.count)}})),n.append(TweenMax.to(i,.2,{css:{scale:1}})),s.append(TweenMax.to(t,.3,{css:{autoAlpha:0},onComplete:function(){i.add(t).removeAttr("style")}}))}else{a.hasClass("like-icon-thumb")?i.removeClass("fa-thumbs-up").addClass("fa-thumbs-o-up"):a.hasClass("like-icon-star")?i.removeClass("fa-star").addClass("fa-star-o"):i.removeClass("fa-heart").addClass("fa-heart-o");var n=new TimelineLite({delay:.05}),s=new TimelineLite({delay:.05});n.append(TweenMax.to(i,.2,{css:{scale:.75},onComplete:function(){t.html(e.count)}})),n.append(TweenMax.to(i,.2,{css:{scale:1}})),s.append(TweenMax.to(t,.3,{css:{autoAlpha:0},onComplete:function(){i.add(t).removeAttr("style")}}))}}))});var k=$(".gallery-type-fullbg .gallery"),T=$(".gallery-no-top-stick").length>0;if(k.length){var S=function(){k.css({marginLeft:0,marginTop:0,marginRight:0});var a=k.offset(),i=$(e).width(),t=a.top,n=a.left,s=i-(n+k.outerWidth()+publicVars.topBorderHeight),r=$(".details.pull-right-md").length>0;i<992||(T&&(t=0),t-=publicVars.topBorderHeight,n-=publicVars.topBorderHeight,publicVars.$topMenu.hasClass("is-visible")&&(t-=publicVars.$topMenu.outerHeight()-publicVars.topBorderHeight),r?k.css({marginTop:-t,marginLeft:-n}):k.css({marginTop:-t,marginRight:-s}))};S(),$(e).resize(S)}$(".single-portfolio-holder.is-sticky").each(function(e,a){var i=$(a),t=i.find(".details"),n=i.find(".gallery-column-env"),s=t.find(".project-description");setTimeout(function(){partiallyStickyElement(t.find("> .row"),n,s),t.addClass("shown")},100)});var H=$(".portfolio-navigation");if(H.length&&publicVars.$mainFooter.is(":visible")&&publicVars.$mainFooter.offset().top>$(e).height()&&H.is(".portfolio-navigation-type-fixed")){var A=scrollMonitor.create(publicVars.$mainFooter[0],{bottom:H.outerHeight()});A.enterViewport(function(){H.addClass("is-not-visible")}),A.exitViewport(function(){H.removeClass("is-not-visible")})}"function"==typeof sliderComparison&&$(".comparison-image-slider").each(function(e,a){var i=$(a),t=i.find("> img"),n=i.find(".cd-resize-img > img"),s=[];s.push(t.data("src")),s.push(n.attr("src")),imagesLoaded(s,function(e){sliderComparison(i)})}),$(".lab-scroll-box[data-height]").each(function(e,a){var i=$(a),t=i.find("> .lab-scroll-box-content"),n=i.data("height");t.perfectScrollbar({wheelPropagation:!0,suppressScrollX:!0})}),$(".client-logos-col.with-link").on("click",".hover-state",function(a){var i=$(this).find("a").first(),t=i.attr("href");"A"!=a.target.tagName&&("_blank"==i.attr("target").toLowerCase().trim()?e.open(t):e.location.href=t)}),$("form.contact-form[id]").each(function(e,a){var i=$(a),t=1==i.data("alerts"),n=1==i.data("use-subject"),s=i.data("alerts-msg"),r=i.find('input[name="name"]'),o=i.find('input[name="email"]'),l=i.find('input[name="subject"]'),u=i.find('textarea[name="message"]'),c=i.find('button[name="send"]'),d=c.find(".loading-bar span");i.submit(function(e){if(e.preventDefault(),c.data("is-busy"))return!1;var a={id:i.attr("id"),check:i.data("check"),name:r.val(),email:o.val(),subject:l.val(),message:u.val()};if(t){var p="";!r.hasClass("not-required")&&is.empty(r.val())&&(p+=s.replace("%",r.data("label"))+"\n"),l.hasClass("is-required")&&is.empty(l.val())&&(p+=s.replace("%",l.data("label"))+"\n"),!o.hasClass("not-required")&&is.empty(o.val())&&(p+=s.replace("%",o.data("label"))+"\n"),!u.hasClass("not-required")&&is.empty(u.val())&&(p+=s.replace("%",u.data("label"))+"\n"),is.not.empty(p)&&alert(p)}return r.add(u).add(l.is(".is-required")?l:$(null)).on("keyup",function(e){$(this).val().length>0&&$(this).parent().removeClass("has-errors")}),o.on("keyup",function(e){is.email($(this).val())&&$(this).parent().removeClass("has-errors")}),r.is(":visible")&&is.empty(r.val())&&r.parent().addClass("has-errors"),o.is(":visible")&&is.empty(o.val())&&o.parent().addClass("has-errors"),l.is(".is-required")&&is.empty(l.val())&&l.parent().addClass("has-errors"),u.is(":visible")&&is.empty(u.val())&&u.parent().addClass("has-errors"),o.is(":visible")&&is.not.email(o.val())&&o.parent().addClass("has-errors"),r.is(":visible")&&is.empty(r.val())?(r.focus(),r.parent().addClass("has-errors"),!1):o.is(":visible")&&is.empty(o.val())?(o.focus(),o.parent().addClass("has-errors"),!1):l.is(".is-required")&&is.empty(l.val())?(l.focus(),l.parent().addClass("has-errors"),!1):u.is(":visible")&&is.empty(u.val())?(u.focus(),u.parent().addClass("has-errors"),!1):o.is(":visible")&&is.not.email(o.val())?(o.select(),o.parent().addClass("has-errors"),!1):(a.request=i.find('input[name="request"]').val(),a.action="kalium_vc_contact_form_request",a.useSubject=n,c.addClass("is-loading").data("is-busy",!0),TweenMax.to(d,4,{css:{width:"90%"},delay:.5,ease:Power2.easeOut}),void $.post(ajaxurl,a,function(e){if(e.success){var i=r.add(o).add(l).add(u);i.attr("readonly",!0),i.parent().fadeTo(300,.5),c.addClass("sent"),TweenMax.killTweensOf(d),TweenMax.to(d,.5,{css:{width:"100%"},onComplete:function(){var e=new RegExp("<script","gi"),a=c.html();a.match(/\#/)&&(a=a.replace("#","<strong>"+r.val()+"</strong>").replace(e,"&lt;script")),c.html(a),c.removeClass("is-loading").addClass("is-finished");var i=c.find(".pre-submit"),t=c.find(".success-msg"),n=t.find("i"),s=c.outerWidth();c.removeClass("is-finished"),TweenMax.to(c,.3,{css:{width:s},delay:.4,onComplete:function(){c.css({width:""})}}),TweenMax.to(i,.1,{css:{autoAlpha:0},delay:.6,onComplete:function(){i.hide(),TweenMax.set(t,{css:{display:"block",autoAlpha:0}}),TweenMax.set(n,{css:{autoAlpha:0}}),TweenMax.to(t,.4,{css:{autoAlpha:1}}),TweenMax.to(n,.4,{css:{autoAlpha:1}})}})}}),$(document).trigger("kalium-contact-form-success",[a])}else alert("Invalid token, your message couldn't be sent!"),TweenMax.to(d,.3,{css:{width:0},onComplete:function(){c.removeClass("is-loading")}}),c.data("is-busy",!1)},"json"))}),i.find(".form-group.absolute:has( input )").each(function(e,a){$(a).find("input").css("paddingLeft",$(a).find(".placeholder").outerWidth()+20)})}),$(".lab-dribbble-gallery div[data-dribbble-user]").each(function(e,a){var i=$(a),t=i.data("dribbble-user"),n=i.data("dribbble-count"),s=i.data("dribbble-access-token");getShotsForID([t],i.prop("id"),n,s)}),$(".post-gallery").each(function(e,a){var i=$(a);0==i.closest("#isotope-container").length&&setupSlickCarousel(i,{infinite:!0})}),$.isFunction($.fn.fluidbox)&&$(".post-content a:has(img), a.fluid-box:has(img), .fluid-box a:has(img)").each(function(e,a){var i=$(a);i.attr("href").match(/(jpg|jpeg|png|gif)$/i)&&i.fluidbox()}),e.setHeaderLogo=function(e,a,i,t){},e.revertHeaderLogo=function(e){},$("[data-lab-parallax-ratio]").each(function(a,i){var t=$(i),n=$(e),s=1-parseFloat(t.data("lab-parallax-ratio")),r=t.data("lab-parallax-opacity"),o=t.css("opacity"),l=t.outerHeight(),u=t.offset().top,c=0,d=0,p=0,f=o,b=null,h=scrollMonitor.create(i);b=function(){return 0!=h.isInViewport&&(c=n.scrollTop(),d=parseInt(s*c,10),requestAnimationFrame(function(){""!==r&&(p=Math.max(0,parseFloat(Math.min(c/(l+u),1).toFixed(2))),f=1-p,r>0&&(f=1-p*(1-r))),t.css({transform:"translate3d(0px,"+d+"px,0px)",opacity:f})},t),!0)},setInterval(b,10)}),$("a.top-menu-toggle, .top-menu-toggle > a").each(function(e,a){var i=$(a);0==publicVars.$topMenu.find(".close-top-menu").length&&(publicVars.$topMenu.append('<a href="#" class="close-top-menu">&times;</a>'),$("body").on("click",".close-top-menu",function(e){e.preventDefault(),topMenuToggle($(null)),$(".menu-bar").removeClass("exit-arrow")})),i.on("click",function(e){e.preventDefault(),topMenuToggle($(null))})}),$("a.sidebar-menu-toggle, .sidebar-menu-toggle > a").each(function(e,a){$(a).unbind().on("click",function(e){e.preventDefault(),sidebarMenuOpen()})}),$(".footer-collapse-link").on("click",function(e){e.preventDefault(),$(this).remove()});var B=$("footer.site-footer.fixed-footer");if(B.length){if($(e).height()<publicVars.$wrapper.outerHeight()+publicVars.$mainFooter.outerHeight()&&0==u()){var j=B.outerHeight(),_=$('<div class="footer-spacer"></div>');publicVars.$body.append(_),_.css({height:j}),imagesLoaded(B,function(){j=B.outerHeight(),_.css({height:j})});var O=scrollMonitor.create(publicVars.$wrapper);O.partiallyExitViewport(function(){B.addClass("shown")}),O.fullyEnterViewport(function(){B.removeClass("shown")})}else B.addClass("shown by-default")}if($(".portfolio-video-holder").each(function(e,a){var i=$(a);i.on("mouseover",function(){var e=i.closest(".animated"),a=this;e.length&&(e.removeClass("animated"),i.off("mouseover",a))})}),$.isFunction($.fn.isotope)&&$(".gallery.masonry-mode-gallery .row").isotope({layoutMode:"packery"}),$('.contact-form textarea[name="message"]').each(function(e,a){var i=$(a),t=i.prev();t.is(".placeholder")&&t.on("click",function(e){i.focus()})}),$(".lab-blog-posts[data-masonry-mode]").each(function(e,a){var i=$(a),t=i.data("masonryMode");i.removeClass("display-loading").isotope({itemSelector:".blog-post-column",layoutMode:t})}),$(".go-to-top[data-type]").each(function(a,i){var t=$(i),n=t.data("type"),s=t.data("val"),r=0,o;"footer"==n&&(n="percentage",s=100,publicVars.$mainFooter.length?r+=publicVars.$mainFooter.outerHeight():r+=20,r+=publicVars.topBorderHeight);var l=$('<div class="go-to-top-vp"></div>').css({position:"absolute",left:-100,top:0,width:5,height:s+("percentage"==n?"%":""),marginBottom:r,display:"percentage"!=n&&s>$(document).height()?"none":"block"}).appendTo(publicVars.$wrapper);o=scrollMonitor.create(l),o.stateChange(function(){$(e).height()>publicVars.$wrapper.outerHeight()||(o.isAboveViewport&&0==o.isBelowViewport?t.addClass("visible"):t.removeClass("visible"))}),t.on("click",function(a){a.preventDefault();var i={pos:$(e).scrollTop()};TweenMax.to(i,1,{pos:0,ease:Power4.easeOut,onUpdate:function(){$(e).scrollTop(i.pos)}})})}),1==jQuery(".vc-container > .vc_row[data-vc-full-width]").length&&jQuery(".vc-container > .vc_row .wpb_revslider_element").addClass("no-bottom-margin"),$().lightGallery){var L={selector:"a",thumbnail:!0,fullScreen:!0},D=function(){$(".light-gallery--enabled").each(function(e,a){var i=$(a);if(!i.data("lg-init")){var t=i.find(".vc_gitem-zone > a, .vc_gitem-zone-a > a").filter(function(e,a){return $(a).attr("href").match(/\.(png|jpe?g|gif)$/i)});t.removeClass("prettyphoto").unbind("click").attr("data-rel",""),0<t.length&&kaliumLightbox(i,$.extend(L,{thumbnail:t.find("img").length>0})),i.data("lg-init",!0)}})};$(e).on("grid:items:added",$.debounce(50,D))}$(e).resize(),$(document).on("lazyunveilread",function(e){$(e.target).one("load",function(e){$(this).parent().addClass("img-loaded")})}),$("iframe[data-autoplay]").each(function(a,i){if("Vimeo"in e){new Vimeo.Player(i).play()}}),scrollMonitor.update()})}(jQuery,window);var wowLab;WOW&&(wowLab=new WOW,wowLab.init({mobile:!1}),wowLab.sync()),window.lazySizesConfig=window.lazySizesConfig||{},window.lazySizesConfig.expand=300;